{"version":3,"sources":["../../../src/api/model/follow.js"],"names":["isFollowing","userId","itemId","think","model","where","select","isEmpty","getFollowing","join","field","user"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAGA;;;;;;;;;;;kBAKOA,W;yFAAYC,M,EAAOC,M;;;;;qBACjBC,K;;cAAoB,KAAKC,KAAL,CAAW,QAAX,EAAqBC,KAArB,CAA2B,EAAC,QAAOH,MAAR,EAAe,QAAOD,MAAtB,EAA3B,EAA0DK,MAA1D,E;;;;;wBAAdC,O;;;;;qBAAmF,K;;;;;qBAAM,I;;;;;;;;;;;;;;;;;;;;kBAGjGC,Y;2FAAaP,M;;;;;yCACX,KAAKQ,IAAL,CAAU,gCAAV,EACJC,KADI,CACE,sFADF,EAEJL,KAFI,CAEE,EAACM,MAAKV,MAAN,EAFF,EAEiBK,MAFjB,E","file":"follow.js","sourcesContent":["import Base from './base.js'\r\n\r\n\r\n/**\r\n * model\r\n */\r\nexport default class extends Base {\r\n\r\n\tasync isFollowing(userId,itemId){\r\n\t\treturn think.isEmpty(await this.model(\"follow\").where({\"item\":itemId,\"user\":userId}).select())? false:true;\r\n\t}\r\n\r\n\tasync getFollowing(userId){\r\n\t\treturn this.join(\"item on follow.item = item.id \")\r\n\t\t\t\t.field(\"item.id as id, item.name as name, item.status as status, follow.createAt as createAt\")\r\n\t\t\t\t.where({user:userId}).select();\r\n\t}\r\n}"]}