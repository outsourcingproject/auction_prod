{"version":3,"sources":["../../../src/api/model/article_type.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;;;AACA;;;;;;;;;;;AAIE;;;;;mBAKA,I,mBAAa;AAAA;;AAAA,sCAAL,IAAK;AAAL,UAAK;AAAA;;AACX,4CAAM,IAAN,iDAAc,IAAd;;AAEA,SAAK,QAAL,GAAgB;AACd,eAAQ;AACN,cAAM,MAAM,KAAN,CAAY,QADZ;AAEN,aAAI,IAFE;AAGN,cAAK;;AAEL;AALM;AADM,KAAhB;AASD,G;;mBACC,O,sBAAS;AACP,WAAO,KAAK,WAAL,CAAiB,KAAjB,EAAwB,MAAxB,EAAP;AACD,G;;AAED;;;mBACA,U,uBAAW,E,EAAG;AACZ,OAAG,QAAH;AACA,WAAO,KAAK,WAAL,CAAiB,IAAjB,EACJ,KADI,CACE,UAAQ,EADV,EAEJ,KAFI,CAEE,eAFF,EAGJ,IAHI,EAAP;AAID,G;;AAED;;;mBACM,U;;;;;;;AACA,sB,GAAW,E;;qBACM,KAAK,OAAL,E;;;AAAjB,sB;uDACS,Q;;;;;;;;AAAL,e;;qBACQ,KAAK,UAAL,CAAgB,SAAS,CAAT,EAAY,IAAZ,CAAhB,C;;;AAAV,e;;AACJ,uBAAS,IAAT,CAAc,CAAd;;;;;+CAEK,Q","file":"article_type.js","sourcesContent":["'use strict';\nimport Base from './base.js'\n/**\n * relation model\n */\nexport default class extends Base {\n  /**\n   * init\n   * @param  {} args []\n   * @return {}         []\n   */\n  init(...args){\n    super.init(...args);\n\n    this.relation = {\n      article:{\n        type: think.model.HAS_MANY,\n        key:\"id\",\n        fKey:\"type\"\n       \n        // field:\"id,title\"\n      }\n    }\n  }\n    getList(){\n      return this.setRelation(false).select();\n    }    \n\n    //根据文章类别id 读取文章\n    selectData(id){\n      id.toString();\n      return this.setRelation(true)\n        .where(\"id = \"+id)\n        .order(\"createAt DESC\")\n        .find();\n    }\n\n    //查询文章类别和文章详情页\n    async getArticle(){\n      let articles = [];\n      let typeList = await this.getList();\n      for(var t in typeList){\n        let a = await this.selectData(typeList[t][\"id\"]);\n        articles.push(a);\n      }\n      return articles;\n    }\n  }\n"]}