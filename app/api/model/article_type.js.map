{"version":3,"sources":["../../../src/api/model/article_type.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;;;AACA;;;;;;;;;;;AAIE;;;;;mBAKA,I,mBAAa;AAAA;;AAAA,sCAAL,IAAK;AAAL,UAAK;AAAA;;AACX,4CAAM,IAAN,iDAAc,IAAd;;AAEA,SAAK,QAAL,GAAgB;AACd,eAAQ;AACN,cAAM,MAAM,KAAN,CAAY,QADZ;AAEN,aAAI,IAFE;AAGN,cAAK;;AAEL;AALM;AADM,KAAhB;AASD,G;;mBACC,O,sBAAS;AACP,WAAO,KAAK,WAAL,CAAiB,KAAjB,EAAwB,MAAxB,EAAP;AACD,G;;AAED;;;mBACA,U,uBAAW,E,EAAG;AACZ,OAAG,QAAH;AACA,WAAO,KAAK,WAAL,CAAiB,IAAjB,EACJ,KADI,CACE,UAAQ,EADV,EAEJ,KAFI,CAEE,eAFF,EAGJ,IAHI,EAAP;AAID,G;;AAED;;;mBACM,U;;;;;;;AACA,sB,GAAW,E;;qBACM,KAAK,OAAL,E;;;AAAjB,sB;uDACS,Q;;;;;;;;AAAL,e;;qBACQ,KAAK,UAAL,CAAgB,SAAS,CAAT,EAAY,IAAZ,CAAhB,C;;;AAAV,e;;AACJ,uBAAS,IAAT,CAAc,CAAd;;;;;+CAEK,Q","file":"article_type.js","sourcesContent":["'use strict';\r\nimport Base from './base.js'\r\n/**\r\n * relation model\r\n */\r\nexport default class extends Base {\r\n  /**\r\n   * init\r\n   * @param  {} args []\r\n   * @return {}         []\r\n   */\r\n  init(...args){\r\n    super.init(...args);\r\n\r\n    this.relation = {\r\n      article:{\r\n        type: think.model.HAS_MANY,\r\n        key:\"id\",\r\n        fKey:\"type\"\r\n       \r\n        // field:\"id,title\"\r\n      }\r\n    }\r\n  }\r\n    getList(){\r\n      return this.setRelation(false).select();\r\n    }    \r\n\r\n    //根据文章类别id 读取文章\r\n    selectData(id){\r\n      id.toString();\r\n      return this.setRelation(true)\r\n        .where(\"id = \"+id)\r\n        .order(\"createAt DESC\")\r\n        .find();\r\n    }\r\n\r\n    //查询文章类别和文章详情页\r\n    async getArticle(){\r\n      let articles = [];\r\n      let typeList = await this.getList();\r\n      for(var t in typeList){\r\n        let a = await this.selectData(typeList[t][\"id\"]);\r\n        articles.push(a);\r\n      }\r\n      return articles;\r\n    }\r\n  }\r\n"]}