{"version":3,"sources":["../../../src/rest/controller/message.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;IAEqB,O;;;;;;;;oBAEb,Q;;;;;;;AACJ,mBAAK,aAAL,GAAqB,MAAM,KAAN,CAAY,SAAZ,EAAuB,IAAvB,EAA6B,KAA7B,CAArB;;qBACqB,KAAK,aAAL,CAAmB,KAAnB,E;;;AAArB,mBAAK,O;;AACL,mBAAK,UAAL,GAAkB,KAAlB;;;qBAEiB,KAAK,OAAL,CAAa,MAAb,C;;;AAAb,kB;;;AAEJ,kBAAI,CAAC,MAAM,OAAN,CAAc,IAAd,CAAL,EAA0B;AACxB,qBAAK,MAAL,GAAc,EAAC,IAAI,KAAK,EAAV,EAAd;AACD;;;qBAGY,gBAAM,QAAN,W;;;;;;;;;;;;;;;;;;;;;;;kBAdI,O","file":"message.js","sourcesContent":["import Base from './base';\r\n\r\nexport default class Message extends Base {\r\n\r\n  async __before() {\r\n    this.modelInstance = think.model('message', null, 'api');\r\n    this.modelPk = await this.modelInstance.getPk();\r\n    this.needPaging = false;\r\n\r\n    let user = await this.session('user');\r\n\r\n    if (!think.isEmpty(user)) {\r\n      this.filter = {to: user.id};\r\n    }\r\n\r\n\r\n    return await super.__before();\r\n  }\r\n}"]}